@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* DaisyUI Plugin - Tailwind v4 CSS-first configuration */
@plugin "daisyui" {
    themes: autumn --default, business --prefersdark;
    /* exclude: alert ,avatar ,badge ,breadcrumbs ,button ,calendar ,card ,carousel ,chat ,checkbox ,collapse ,countdown ,diff ,divider ,dock ,drawer ,dropdown ,fab ,fieldset ,fileinput ,filter ,footer ,hero ,hover3d ,hovergallery ,indicator ,input ,kbd ,label ,link ,list ,loading ,mask ,menu ,mockup ,modal ,navbar ,progress ,radialprogress ,radio ,range ,rating ,select ,skeleton ,stack ,stat ,status ,steps ,swap ,tab ,table ,textarea ,textrotate ,timeline ,toast, properties, reset ,rootscrollgutter ,rootscrolllock ,scrollbar, glass, join, radius, typography; */
    root: ":root";
}

/* Custom Styles */
@font-face {
  font-family: "huninn";
  src: url("/font/jf-openhuninn-2.1.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
/* @font-face {
  font-family: "noto";
  src: url("/font/NotoSansTC-Medium.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
} */
:root {
  --font-display: "huninn", sans-serif;          /* 若要備援字體可加在後面 */
}
html, body {
  font-family: var(--font-display);
}


.backgroundImg-grid {
  background-image: linear-gradient(45deg, #5f5f5f20 25%, transparent 25%), linear-gradient(-45deg, #5f5f5f20 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #5f5f5f20 75%), linear-gradient(-45deg, transparent 75%, #5f5f5f20 75%);
  background-size: 24px 24px;
  background-position: 0 0, 0 12px, 12px -12px, -12px 0px;
  background-color: #ffffff00;
}

/* Custom tab styles for radio + label + tab-content structure */
/* Only target tabs that use .tab.radio structure */

.tabs label:has(.tab.radio) {
  @apply cursor-pointer transition-all duration-200;
}

.tabs label:has(.tab.radio):active {
  @apply scale-95 opacity-80;
}

/* Hide tab-content that follows a label containing .tab.radio */
/* We use opacity and height:0 instead of display:none to allow transitions if needed,
   but since the DOM structure is interleaved, it's safer to keep display:none for layout
   and use @keyframes for the 'entry' animation. */
.tabs label:has(.tab.radio) ~ .tab-content {
  display: none;
}

/* Show tab-content immediately after a label that contains a checked .tab.radio */
.tabs label:has(.tab.radio:checked) + .tab-content,
.tabs-lift label.tab:has(input:checked) + .tab-content {
  display: block !important;
  animation: tab-content-slide 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

/* Hide tab-content when a later radio in a later label is checked */
.tabs label:has(.tab.radio:checked) ~ label:has(.tab.radio) ~ .tab-content {
  display: none !important;
}

@keyframes tab-content-slide {
  from {
    opacity: 0;
    transform: translateX(1.25rem);
    filter: blur(4px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
    filter: blur(0);
  }
}

/* Enhance DaisyUI tab appearance */
.tabs-lift .tab {
    @apply transition-all duration-300;
}
.tabs-lift .tab:has(input:checked) {
    @apply font-bold;
}

/* Collapsible Section Animation */
.collapsible-content {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.5s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.4s ease;
  opacity: 0;
  visibility: hidden;
}

.collapsible-content.is-open {
  grid-template-rows: 1fr;
  opacity: 1;
  visibility: visible;
  @apply pt-4; /* Add spacing when open */
}

.collapsible-content > div {
  overflow: hidden;
  min-height: 0;
}

/* Dropdown Menu Coverage & Stacking Fixes */

/* 1. Prevent containers from clipping the menu content */
.card, 
.card-body, 
.card > div, 
.fieldset, 
.tabs, 
.tabs-lift, 
.tab-content, 
.collapsible-content,
.content {
  overflow: visible !important;
}

/* Specific fix for collapsible animation rows - visible only when open */
.collapsible-content.is-open > div {
  overflow: visible !important;
}

/* 2. Stacking Context & Layering Hierarchy */

/* LEVEL 1: Normal cards (Bottom) */
.card { z-index: 1; }
.card-body { position: relative; }

/* LEVEL 2: The sticky live preview header (Middle-Top) 
   Must be higher than any active card (100) but lower than menus (1100) */
.eurl {
  position: sticky !important;
  top: 0;
  z-index: 500 !important;
}

/* LEVEL 3: Lifting the active container to overlap neighboring siblings */
:is(.card, .card-body, .fieldset, .tabs, .tabs-lift, .tab-content):has(dropdown-select:focus-within) {
  z-index: 100 !important;
  position: relative;
}

/* LEVEL 4: Individual dropdown components */
dropdown-select {
  position: relative;
  display: block;
}

/* LEVEL 5: The actual dropdown menu (Highest) */
dropdown-select .dropdown-content {
  z-index: 1100 !important;
}

/* Internal focus state for the select wrapper */
dropdown-select:focus-within {
  z-index: 1000 !important;
}

/* Support for DaisyUI animated tabs */
.tabs label:has(.tab.radio:checked) + .tab-content,
.tabs-lift label.tab:has(input:checked) + .tab-content {
  position: relative;
  z-index: 10;
}